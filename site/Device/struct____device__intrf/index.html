
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../pages/">
      
      
        <link rel="next" href="../variables/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Struct __device_intrf - IOSonata Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#struct-__device_intrf" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IOSonata Documentation" class="md-header__button md-logo" aria-label="IOSonata Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IOSonata Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Struct __device_intrf
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IOSonata Documentation" class="md-nav__button md-logo" aria-label="IOSonata Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IOSonata Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IOSonata Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../class/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Device
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Device
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_member_enums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Member Enums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_member_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Member Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_member_typedefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Member Typedefs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_member_variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Member Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class_members/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Members
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../classes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../device_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File device.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../device_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File device.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../device__intrf_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File device_intrf.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../device__intrf_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File device_intrf.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dir_d44c64559bbebec7f509842c48db8b23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dir include
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../group__device__intrf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Group device_intrf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hierarchy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Hierarchy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Links
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Macros
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace_member_enums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Member Enums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace_member_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Member Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace_member_typedefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Member Typedefs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace_member_variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Member Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespace_members/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace Members
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../namespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Related Pages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Struct __device_intrf
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Struct __device_intrf
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#public-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Public Attributes
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#public-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Public Attributes
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="struct-__device_intrf">Struct __device_intrf</h1>
<p><a href="../annotated/"><strong>ClassList</strong></a> <strong>&gt;</strong> <a href="./"><strong>__device_intrf</strong></a></p>
<p><em>Device interface data structure.</em> <a href="#detailed-description">More...</a></p>
<ul>
<li><code>#include &lt;device_intrf.h&gt;</code></li>
</ul>
<h2 id="public-attributes">Public Attributes</h2>
<table>
<thead>
<tr>
<th style="text-align: right;">Type</th>
<th style="text-align: left;">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-disable"><strong>Disable</strong></a>  <br><em>Put the interface to sleep for maximum energy saving.</em></td>
</tr>
<tr>
<td style="text-align: right;">atomic_int</td>
<td style="text-align: left;"><a href="#variable-encnt"><strong>EnCnt</strong></a>  <br></td>
</tr>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-enable"><strong>Enable</strong></a>  <br><em>Wake up the interface.</em></td>
</tr>
<tr>
<td style="text-align: right;"><a href="../group__device__intrf/#typedef-devintrfevthandler_t"><strong>DevIntrfEvtHandler_t</strong></a></td>
<td style="text-align: left;"><a href="#variable-evtcb"><strong>EvtCB</strong></a>  <br><em>Interrupt based event callback function pointer. Must be set to NULL if not used.</em></td>
</tr>
<tr>
<td style="text-align: right;">void *(*</td>
<td style="text-align: left;"><a href="#variable-gethandle"><strong>GetHandle</strong></a>  <br></td>
</tr>
<tr>
<td style="text-align: right;">uint32_t(*</td>
<td style="text-align: left;"><a href="#variable-getrate"><strong>GetRate</strong></a>  <br><em>Get data rate of the interface in Hertz. This is not a clock frequency but rather the transfer frequency (number of transfers per second). It has meaning base on the implementation as bits/sec or bytes/sec or whatever the case.</em></td>
</tr>
<tr>
<td style="text-align: right;">int</td>
<td style="text-align: left;"><a href="#variable-intprio"><strong>IntPrio</strong></a>  <br><em>Interrupt priority. Value is implementation specific.</em></td>
</tr>
<tr>
<td style="text-align: right;">int</td>
<td style="text-align: left;"><a href="#variable-maxretry"><strong>MaxRetry</strong></a>  <br><em>Max retry when data could not be transfered (Rx/Tx returns zero count)</em></td>
</tr>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-poweroff"><strong>PowerOff</strong></a>  <br><em>Power off device for power saving.</em></td>
</tr>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-reset"><strong>Reset</strong></a>  <br><em>This function perform a reset of interface. Must provide empty function of not used.</em></td>
</tr>
<tr>
<td style="text-align: right;">int(*</td>
<td style="text-align: left;"><a href="#variable-rxdata"><strong>RxData</strong></a>  <br><em>Receive data into pBuff passed in parameter. Assuming StartRx was called prior calling this function to get the actual data.</em></td>
</tr>
<tr>
<td style="text-align: right;">uint32_t(*</td>
<td style="text-align: left;"><a href="#variable-setrate"><strong>SetRate</strong></a>  <br><em>Set data rate of the interface in Hertz. This is not a clock frequency but rather the transfer frequency (number of transfers per second). It has meaning base on the implementation as bits/sec or bytes/sec or whatever the case.</em></td>
</tr>
<tr>
<td style="text-align: right;">bool(*</td>
<td style="text-align: left;"><a href="#variable-startrx"><strong>StartRx</strong></a>  <br><em>Prepare start condition to receive data with subsequence RxData. This can be in case such as start condition for I2C or Chip Select for SPI or precondition for DMA transfer or whatever requires it or not This function must check &amp; set the busy state for re-entrancy.</em></td>
</tr>
<tr>
<td style="text-align: right;">bool(*</td>
<td style="text-align: left;"><a href="#variable-starttx"><strong>StartTx</strong></a>  <br><em>Prepare start condition to transfer data with subsequence TxData. This can be in case such as start condition for I2C or Chip Select for SPI or precondition for DMA transfer or whatever requires it or not This function must check &amp; set the busy state for re-entrancy.</em></td>
</tr>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-stoprx"><strong>StopRx</strong></a>  <br><em>Completion of read data phase. Do require post processing after data has been received via RxData This function must clear the busy state for reentrancy.</em></td>
</tr>
<tr>
<td style="text-align: right;">void(*</td>
<td style="text-align: left;"><a href="#variable-stoptx"><strong>StopTx</strong></a>  <br><em>Completion of sending data via TxData. Do require post processing after all data was transmitted via TxData. This function must clear the busy state for re-entrancy.</em></td>
</tr>
<tr>
<td style="text-align: right;">int(*</td>
<td style="text-align: left;"><a href="#variable-txdata"><strong>TxData</strong></a>  <br><em>Transfer data from pData passed in parameter. Assuming StartTx was called prior calling this function to send the actual data.</em></td>
</tr>
<tr>
<td style="text-align: right;">int(*</td>
<td style="text-align: left;"><a href="#variable-txsrdata"><strong>TxSrData</strong></a>  <br><em>Transfer data from pData passed in parameter with re-start.</em></td>
</tr>
<tr>
<td style="text-align: right;"><a href="../group__device__intrf/#typedef-devintrf_type"><strong>DEVINTRF_TYPE</strong></a></td>
<td style="text-align: left;"><a href="#variable-type"><strong>Type</strong></a>  <br><em>Identify the type of interface.</em></td>
</tr>
<tr>
<td style="text-align: right;">atomic_flag</td>
<td style="text-align: left;"><a href="#variable-bbusy"><strong>bBusy</strong></a>  <br><em>Busy flag to be set check and set at start and reset at end of transmission.</em></td>
</tr>
<tr>
<td style="text-align: right;">bool</td>
<td style="text-align: left;"><a href="#variable-bdma"><strong>bDma</strong></a>  <br><em>Enable DMA transfer support. Not all hardware interface supports this feature.</em></td>
</tr>
<tr>
<td style="text-align: right;">bool</td>
<td style="text-align: left;"><a href="#variable-binten"><strong>bIntEn</strong></a>  <br><em>Enable interrupt support. Not all hardware interface supports this feature.</em></td>
</tr>
<tr>
<td style="text-align: right;">atomic_bool</td>
<td style="text-align: left;"><a href="#variable-bnostop"><strong>bNoStop</strong></a>  <br></td>
</tr>
<tr>
<td style="text-align: right;">atomic_bool</td>
<td style="text-align: left;"><a href="#variable-btxready"><strong>bTxReady</strong></a>  <br><em>Flag indicating Tx is ready for transfer.</em></td>
</tr>
<tr>
<td style="text-align: right;">void *</td>
<td style="text-align: left;"><a href="#variable-pdevdata"><strong>pDevData</strong></a>  <br><em>Private device interface implementation data.</em></td>
</tr>
</tbody>
</table>
<h1 id="detailed-description">Detailed Description</h1>
<p>This structure is the actual interface for both C++ &amp; C code It is used to provide C compatibility instead of using C++ interface which is only for C++</p>
<p>This data structure is visible for implementer of interface. It is seen as handle for application to pass to the interface function calls. Application firmware should not access any member of this structure directly. </p>
<h2 id="public-attributes-documentation">Public Attributes Documentation</h2>
<h3 id="variable-disable">variable Disable</h3>
<p><em>Put the interface to sleep for maximum energy saving.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::Disable) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p>If this is a physical interface, provide a way to put the interface to sleep for maximum energy saving possible. This function must be implemented in such a way that the interface can be re-enable without going through full initialization sequence.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-encnt">variable EnCnt</h3>
<pre><code class="language-C++">atomic_int __device_intrf::EnCnt;
</code></pre>
<p>Count the number of time device is enabled, this used as ref count where multiple devices are using the same interface. It is to avoid it being disabled while another device is still using it </p>
<hr>

<h3 id="variable-enable">variable Enable</h3>
<p><em>Wake up the interface.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::Enable) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-evtcb">variable EvtCB</h3>
<pre><code class="language-C++">DevIntrfEvtHandler_t __device_intrf::EvtCB;
</code></pre>
<hr>

<h3 id="variable-gethandle">variable GetHandle</h3>
<pre><code class="language-C++">void *(* __device_intrf::GetHandle) (DevIntrf_t *const pDevIntrf);
</code></pre>
<hr>

<h3 id="variable-getrate">variable GetRate</h3>
<p><em>Get data rate of the interface in Hertz. This is not a clock frequency but rather the transfer frequency (number of transfers per second). It has meaning base on the implementation as bits/sec or bytes/sec or whatever the case.</em> </p>
<pre><code class="language-C++">uint32_t(* __device_intrf::GetRate) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface</li>
</ul>
<p><strong>Returns:</strong></p>
<p>Transfer rate per second </p>
<hr>

<h3 id="variable-intprio">variable IntPrio</h3>
<pre><code class="language-C++">int __device_intrf::IntPrio;
</code></pre>
<hr>

<h3 id="variable-maxretry">variable MaxRetry</h3>
<pre><code class="language-C++">int __device_intrf::MaxRetry;
</code></pre>
<hr>

<h3 id="variable-poweroff">variable PowerOff</h3>
<p><em>Power off device for power saving.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::PowerOff) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p>This function will power off device completely. Not all device provide this type of functionality. Once power off is call, full initialization cycle is required. Therefore their is no PowerOn counter part of this function contrary to the Enable/Disable functions.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-reset">variable Reset</h3>
<p><em>This function perform a reset of interface. Must provide empty function of not used.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::Reset) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-rxdata">variable RxData</h3>
<p><em>Receive data into pBuff passed in parameter. Assuming StartRx was called prior calling this function to get the actual data.</em> </p>
<pre><code class="language-C++">int(* __device_intrf::RxData) (DevIntrf_t *const pDevIntrf, uint8_t *pBuff, int BuffLen);
</code></pre>
<p>Return -1 in case of interrupt based or transfer without waiting for completion. for example I2C where stop condition is handled asynchronously</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>pBuff</code> : Pointer to memory area to receive data. </li>
<li><code>BuffLen</code> : Length of buffer memory in bytes</li>
</ul>
<p><strong>Returns:</strong></p>
<p>Number of bytes read -1 special case for interrupt driven without waiting for completion for example I2C where stop condition is handled asynchronously </p>
<hr>

<h3 id="variable-setrate">variable SetRate</h3>
<p><em>Set data rate of the interface in Hertz. This is not a clock frequency but rather the transfer frequency (number of transfers per second). It has meaning base on the implementation as bits/sec or bytes/sec or whatever the case.</em> </p>
<pre><code class="language-C++">uint32_t(* __device_intrf::SetRate) (DevIntrf_t *const pDevIntrf, uint32_t Rate);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>Rate</code> : Data rate to be set in Hertz (transfer per second)</li>
</ul>
<p><strong>Returns:</strong></p>
<p>Actual transfer rate per second set. It is the real capable rate closest to rate being requested. </p>
<hr>

<h3 id="variable-startrx">variable StartRx</h3>
<p><em>Prepare start condition to receive data with subsequence RxData. This can be in case such as start condition for I2C or Chip Select for SPI or precondition for DMA transfer or whatever requires it or not This function must check &amp; set the busy state for re-entrancy.</em> </p>
<pre><code class="language-C++">bool(* __device_intrf::StartRx) (DevIntrf_t *const pDevIntrf, uint32_t DevAddr);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>DevAddr</code> : The device selection id scheme</li>
</ul>
<p><strong>Returns:</strong></p>
<p>true - Success
 false - failed. </p>
<hr>

<h3 id="variable-starttx">variable StartTx</h3>
<p><em>Prepare start condition to transfer data with subsequence TxData. This can be in case such as start condition for I2C or Chip Select for SPI or precondition for DMA transfer or whatever requires it or not This function must check &amp; set the busy state for re-entrancy.</em> </p>
<pre><code class="language-C++">bool(* __device_intrf::StartTx) (DevIntrf_t *const pDevIntrf, uint32_t DevAddr);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>DevAddr</code> : The device selection id scheme</li>
</ul>
<p><strong>Returns:</strong></p>
<p>true - Success
 false - failed </p>
<hr>

<h3 id="variable-stoprx">variable StopRx</h3>
<p><em>Completion of read data phase. Do require post processing after data has been received via RxData This function must clear the busy state for reentrancy.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::StopRx) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-stoptx">variable StopTx</h3>
<p><em>Completion of sending data via TxData. Do require post processing after all data was transmitted via TxData. This function must clear the busy state for re-entrancy.</em> </p>
<pre><code class="language-C++">void(* __device_intrf::StopTx) (DevIntrf_t *const pDevIntrf);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
</ul>
<hr>

<h3 id="variable-txdata">variable TxData</h3>
<p><em>Transfer data from pData passed in parameter. Assuming StartTx was called prior calling this function to send the actual data.</em> </p>
<pre><code class="language-C++">int(* __device_intrf::TxData) (DevIntrf_t *const pDevIntrf, uint8_t *pData, int DataLen);
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>pData</code> : Pointer to memory area of data to send. </li>
<li><code>DataLen</code> : Length of data memory in bytes</li>
</ul>
<p><strong>Returns:</strong></p>
<p>Number of bytes sent </p>
<hr>

<h3 id="variable-txsrdata">variable TxSrData</h3>
<p><em>Transfer data from pData passed in parameter with re-start.</em> </p>
<pre><code class="language-C++">int(* __device_intrf::TxSrData) (DevIntrf_t *const pDevIntrf, uint8_t *pData, int DataLen);
</code></pre>
<p>Assuming StartTx was called prior calling this function to send the actual data. This is a special function for some I2C devices that requires writing the data into a special register for write-restart-read sequence. One of such MCU is the Atmel SAM series. The data length in this case cannot exceed 4 bytes.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pDevIntrf</code> : Pointer to an instance of the Device Interface </li>
<li><code>pData</code> : Pointer to memory area of data to send. </li>
<li><code>DataLen</code> : Length of data memory in bytes</li>
</ul>
<p><strong>Returns:</strong></p>
<p>Number of bytes sent </p>
<hr>

<h3 id="variable-type">variable Type</h3>
<pre><code class="language-C++">DEVINTRF_TYPE __device_intrf::Type;
</code></pre>
<hr>

<h3 id="variable-bbusy">variable bBusy</h3>
<pre><code class="language-C++">atomic_flag __device_intrf::bBusy;
</code></pre>
<hr>

<h3 id="variable-bdma">variable bDma</h3>
<pre><code class="language-C++">bool __device_intrf::bDma;
</code></pre>
<hr>

<h3 id="variable-binten">variable bIntEn</h3>
<pre><code class="language-C++">bool __device_intrf::bIntEn;
</code></pre>
<hr>

<h3 id="variable-bnostop">variable bNoStop</h3>
<pre><code class="language-C++">atomic_bool __device_intrf::bNoStop;
</code></pre>
<p>Flag indicating a continous transfer. Usually used for read/write register value or cmd/response type. This flag is relevant only when interrupt is enabled async transfer </p>
<hr>

<h3 id="variable-btxready">variable bTxReady</h3>
<pre><code class="language-C++">atomic_bool __device_intrf::bTxReady;
</code></pre>
<hr>

<h3 id="variable-pdevdata">variable pDevData</h3>
<pre><code class="language-C++">void* __device_intrf::pDevData;
</code></pre>
<hr>

<hr />
<p>The documentation for this class was generated from the following file <code>include/device_intrf.h</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>